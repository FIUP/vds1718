\newcommand{\lub}{\bigsqcup}


\exercise{Esercizio 7}
{
    Consider the CPO $\langle\wp(\mathbb{N}),\subseteq\rangle$ and the
    following map f: $\wp(\mathbb{N})\rightarrow\wp(\mathbb{N})$
    \begin{equation}
    f(S) =
    \begin{cases*}
    \emptyset & if S is finite \\
    \mathbb N        & otherwise
    \end{cases*}
    \end{equation}
    \begin{enumerate}
        \item Is f monotonic?
        \item Is f continuos?
    \end{enumerate}
    Formally prove the answer.
}
{
    Ricordiamo che:
    \begin{mydef}[Funzione monotona]
    %\hspace{\textwidth{}}
   Siano $(D, \sqsubseteq)$ e $(D', \sqsubseteq{}')$ due CPO, 
   $f:D\rightarrow{}D'$ una funzione e \textit{d1, d2} $\in$ \textit{D}. f è monotona se e solo se d1 $\sqsubseteq$ d2 $\Rightarrow$ f d1 $\sqsubseteq'$ f d2. \\
    Nel nostra caso \textit{f} è monotona se vale \textit{A} $\subseteq$ \textit{B} 
    $\Rightarrow$ \textit{f(A)} $\subseteq$ \textit{f(B)}.
    \end{mydef}

    Per \textbf{dimostrare che f è monotona}, supponiamo che \textit{A} 
    $\subseteq$ \textit{B} ($\Rightarrow$ \textbar A\textbar{} $\leq$ \textbar B\textbar{}). Ci troviamo di fronte a due casi:
    \begin{enumerate}
        \item \textit{B} è finito;
        \item \textit{B} è infinito.
    \end{enumerate}

    Se vale (1), allora anche 
    \textit{A} è finito e quindi \textit{f(A)} = \textit{f(B)}.
    
    Ergo la condizione di monotonia è rispettata.\\

    Se vale (2), allora \textit{f(B)} = $\mathbb{N}$ e quindi, per ogni \textit{A} $\in\wp(\mathbb{N})$ abbiamo che \textit{f(A)} $\subseteq$ \textit{f(B)}

    Ergo la condizione di monotonia è rispettata.\\

    \begin{mydef}[Funziona continua]
    %\hspace{\textwidth{}}
    Siano $(D, \sqsubseteq)$ e $(D', \sqsubseteq{}')$ due CPO e 
    $f:D\rightarrow{}D'$, una funzione. $f$ è continua se:
    \begin{enumerate}
    \item $f$ è monotona
    \item se per ogni Y catena non vuota in D vale
    \[\lub{} \{f(S) | S \in{}Y\} = f(\lub{}Y)\]
    \end{enumerate}
    \end{mydef}

    Poichè la funzione \textit{f} è monotona, quindi basta vedere se, per ogni
    catena non vuota $Y\in\wp{(\mathbb{N})}$, vale che:
    \[\lub{} \{f(S) | S \in{}Y\} = f(\lub{}Y)\]
    

    Sia quindi Y una catena definita in questo modo:
    \[
    Y~=~\{\{0..n\}~|~n\in\mathbb{N}\}
    \]

    Allora $\lub{}Y~=~\mathbb{N}$. Però $\forall{}S\in{}Y,~S$ è finito, quindi
    $\forall{}S\in{}Y,~f(S)~=~\emptyset$ ma $f(\lub{}Y)~=~\mathbb{N}$ quindi 
    \[\lub{} \{f(S) | S \in{}Y\} \neq f(\lub{}Y)\]
%    Applicando al nostro caso vedo che: 
%    $ \bigsqcup$ ' \{ \textit{f(S)} \textbar{} \textit{S} 
%    $\in\wp(\mathbb{N})$ \} = $\bigsqcup$ ' \{$\emptyset$, $\mathbb{N}$\} = 
%    $\mathbb{N} \]\ 
%    e che   \textit{f}($\bigsqcup\wp(\mathbb{N})$) = \textit{f}($\mathbb{N}$)= 
%    $\mathbb{N}$.\\
%    Ergo, la condizione di continuità è rispettata.\\
%
%    Inoltre, \textit{f} è \textit{strict} perchè sulla catena vuota vale che 
%    $\bot$ = \textit{f}($\bot$) che, nel nostro caso, equivale a $\emptyset$ = 
%    \textit{f}($\emptyset$)
}
\newpage